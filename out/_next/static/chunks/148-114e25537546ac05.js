"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[148],{30:(e,r,t)=>{t.d(r,{A:()=>a});let s=t(5125).A.create({baseURL:"https://api.opinionkings.com/api",headers:{"Content-Type":"application/json"}});s.interceptors.request.use(e=>{let r=localStorage.getItem("token")||"";return console.log(r,"token===="),r&&(e.headers.Authorization="Bearer ".concat(r)),e},e=>Promise.reject(e));let a=s},5174:(e,r,t)=>{t.d(r,{Al:()=>d,DB:()=>p,Je:()=>y,Jp:()=>u,Pj:()=>g,fw:()=>i,i$:()=>l,oO:()=>c,yS:()=>n,zO:()=>h,zr:()=>m});var s=t(6363),a=t(30),o=t(6417);let l=async()=>{try{let e=await a.A.get(o.y.userBalance);return null==e?void 0:e.data}catch(e){return{success:!1,message:(0,s.u1)(e)}}},n=async()=>{try{let e=await a.A.get(o.y.userDetails);return null==e?void 0:e.data}catch(e){return{success:!1,message:(0,s.u1)(e)}}},c=async()=>{try{let e=await a.A.get(o.y.userPositions);return null==e?void 0:e.data}catch(e){return{success:!1,message:(0,s.u1)(e)}}},i=async e=>{try{let r=await a.A.get("".concat(o.y.getFeed).concat(e?"?userId=".concat(e):""));return null==r?void 0:r.data}catch(e){return{success:!1,message:(0,s.u1)(e)}}},u=async e=>{try{let r=await a.A.post(o.y.imageUpload,e,{headers:{"Content-Type":"multipart/form-data"}});return null==r?void 0:r.data}catch(e){return{success:!1,message:(0,s.u1)(e)}}},d=async e=>{try{let r=await a.A.post(o.y.userPost,e);return null==r?void 0:r.data}catch(e){return{success:!1,message:(0,s.u1)(e)}}},m=async e=>{try{let r=await a.A.post(o.y.likeOrUnlike,e);return null==r?void 0:r.data}catch(e){return{success:!1,message:(0,s.u1)(e)}}},g=async e=>{try{let r=await a.A.post(o.y.bookmarkOrUnBookMark,e);return null==r?void 0:r.data}catch(e){return{success:!1,message:(0,s.u1)(e)}}},h=async e=>{try{let r=await a.A.get("".concat(o.y.bookMarkList).concat(e?"?userId=".concat(e):""));return null==r?void 0:r.data}catch(e){return{success:!1,message:(0,s.u1)(e)}}},p=async e=>{try{let r=await a.A.get("".concat(o.y.getComments,"/").concat(e));return null==r?void 0:r.data}catch(e){return{success:!1,message:(0,s.u1)(e)}}},y=async e=>{try{let r=await a.A.post(o.y.postComments,e);return null==r?void 0:r.data}catch(e){return{success:!1,message:(0,s.u1)(e)}}}},6363:(e,r,t)=>{t.d(r,{Lb:()=>i,cb:()=>n,o_:()=>c,u1:()=>l,vz:()=>o});var s=t(5155),a=t(919);let o=e=>{if(!e||0===e.length)return[];let r=Array.from(new Set(e.flatMap(e=>e.data.map(e=>e.timestamp)))).sort((e,r)=>e-r);return e.map(e=>{var t,s;let a=new Map;e.data.forEach(e=>{a.set(e.timestamp,e.price)});let o=null!=(s=null==(t=e.data[0])?void 0:t.price)?s:0,l=r.map(e=>(a.has(e)&&(o=a.get(e)),{x:e,y:Number(o.toFixed(2))}));return{name:e.optionName,data:l}})},l=e=>{if(e instanceof a.pe){var r,t,s,o,l,n,c,i,u,d,m;return(null==(s=e.response)||null==(t=s.data)||null==(r=t.errors)?void 0:r.length)>0?null!=(i=null==(c=e.response)||null==(n=c.data)||null==(l=n.errors)||null==(o=l[0])?void 0:o.message)?i:"Request failed":null!=(m=null==(d=e.response)||null==(u=d.data)?void 0:u.message)?m:"Request failed"}return"Unexpected error"},n=e=>new Promise(r=>setTimeout(r,e));function c(e){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Date,t=new Date(e);if(isNaN(t.getTime()))return"";let s=r.getTime()-t.getTime();s<0&&(s=0);let a=Math.floor(s/1e3);if(a<60)return"".concat(a,"s");let o=Math.floor(a/60);if(o<60)return"".concat(o,"m");let l=Math.floor(o/60);if(l<24)return"".concat(l,"h:").concat(o%60,"m");let n=Math.floor(l/24);return"".concat(n,"day")}function i(e){let{text:r}=e;if(!r)return null;let t=r.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;").replace(/\n/g,"<br/>").replace(/ {2}/g," &nbsp;").replace(/(^|[\s(>])((https?:\/\/|www\.)[^\s<]+[^<.,:;"')\]\s])/gi,'$1<span class="text-blue-500 text-sm dark:text-blue-400 underline font-medium">$2</span>').replace(/(^|[\s(>])(@[a-zA-Z0-9_.]{1,30})/g,'$1<span class="text-emerald-500 dark:text-emerald-400 font-medium">$2</span>').replace(/(^|[\s(>])(#[_a-zA-Z0-9]{1,50})/g,'$1<span class="text-sky-500 dark:text-sky-400 font-medium">$2</span>');return(0,s.jsx)("span",{className:"text-[15px] leading-relaxed whitespace-pre-wrap break-words",dangerouslySetInnerHTML:{__html:t}})}},6417:(e,r,t)=>{t.d(r,{y:()=>s});let s={register:"/register",login:"/login",googleLogin:"/google-login",verifyEmail:"/verify-email",commonCategoryAll:"/common/get-list-category",commonQuestionFindById:"/common/questions-list",questionDetails:"/common/question",userBalance:"/user/balance",ordersQuoteDetails:"/orders/quote-buy",quoteByBudget:"/orders/quote-by-budget",submitOrder:"/orders/submit-order",graphData:"/common/markets",commonQuoteSell:"/orders/quote-sell",leaderBoardMarketList:"/user/leaderboard/market",getOrders:"/orders",cancelOrders:"/orders",userDetails:"/user",userPositions:"/user/positions",getFeed:"/user/get-posts",userPost:"/user/post",imageUpload:"/upload/images",likeOrUnlike:"/user/like-or-unlike",bookmarkOrUnBookMark:"/user/bookmark-or-unbookmark",bookMarkList:"/user/bookmarks",followUser:"/user/follow",unFollowUser:"/user/unfollow",getComments:"/user/comments",postComments:"/user/comment"}},7244:(e,r,t)=>{t.d(r,{Ay:()=>i,iD:()=>n,ri:()=>c});var s=t(3404),a=t(4517);let o=(0,s.Z0)({name:"auth",initialState:{user:null,token:null,isAuth:!1,isLeft:"right"},reducers:{register:(e,r)=>{e.user=r.payload,e.isLeft="left"},login:(e,r)=>{let{user:t,token:s}=r.payload;console.log(t,s,"user, token"),e.user=t,e.token=s,e.isAuth=!0},logout:e=>{e.user=null,e.token=null,e.isAuth=!1,a.Ay.success("User Logged Out")}}}),{register:l,login:n,logout:c}=o.actions,i=o.reducer},7689:(e,r,t)=>{t.d(r,{A:()=>q});var s=t(5155);function a(e){let{isOpen:r,onClose:t,children:a}=e;return r?(0,s.jsx)("div",{className:"fixed inset-0 flex items-center justify-center    backdrop-blur-sm z-50 transition-all duration-300",children:(0,s.jsxs)("div",{className:"bg-white dark:bg-[#0f172a] p-6 rounded-xl shadow-lg    w-[100%] max-w-[320px] lg:max-w-[450px] relative",children:[(0,s.jsx)("button",{onClick:t,className:"absolute top-3 right-3 text-gray-900 dark:text-gray-200 dark:hover:text-gray-300 hover:text-gray-500 cursor-pointer",children:"âœ•"}),a]})}):null}var o=t(2115);let l=e=>{let{text:r}=e;return(0,s.jsx)("div",{className:"text-gray-900 text-[16px] font-semibold mb-1",children:r})},n=e=>{let{startIcon:r,endIcon:t,title:a,error:o,...n}=e;return(0,s.jsxs)(s.Fragment,{children:[a&&(0,s.jsx)(l,{text:a||""}),(0,s.jsxs)("div",{className:"border border-[#46216d] -mt-1 w-full cursor-pointer focus-within:!border-fuchsia-700 flex flex-row items-center justify-between py-2 pr-2 rounded",children:[r&&(0,s.jsx)("span",{className:"ml-2",children:r}),(0,s.jsx)("input",{className:"placeholder:text-gray-400 dark:placeholder:text-gray-300 !w-full pl-2 outline-none text-gray-800 dark:text-white",...n}),t&&(0,s.jsx)("span",{className:"ml-2",children:t})]}),o&&(0,s.jsx)("span",{className:"text-red-600 text-sm pl-2",children:o})]})};var c=t(6363),i=t(30),u=t(6417);let d=async e=>{try{let r=await i.A.post(u.y.register,e);return console.log(r,"getErrorMessage--"),null==r?void 0:r.data}catch(e){return console.log((0,c.u1)(e),"getErrorMessage"),{success:!1,message:(0,c.u1)(e)}}},m=async e=>{try{let r=await i.A.post(u.y.login,e);return null==r?void 0:r.data}catch(e){return{success:!1,message:(0,c.u1)(e)}}},g=async e=>{try{let r=await i.A.post(u.y.googleLogin,e);return null==r?void 0:r.data}catch(e){return{success:!1,message:(0,c.u1)(e)}}};var h=t(1521),p=t(4517),y=t(898),x=t(8122),w=t(7830),v=t(9475),k=t(5068),f=t(8638),b=t(1213),j=t(7244);let A=k.Ik().shape({userName:k.Yj().required("Email or Phone is required").min(4,"Must be at least 4 characters"),password:k.Yj().required("Password is required").min(6,"Password must be at least 8 characters").matches(/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[@$!%*?&#])[A-Za-z\d@$!%*?&#]+$/,"Password must contain uppercase, lowercase, number & special character")});function N(e){let{isOpen:r=!1,isLogin:t=!1,handleClose:l}=e,[c,i]=(0,o.useState)(!1),[u,g]=(0,o.useState)(!1),[k,N]=(0,o.useState)(!1),C=(0,b.wA)();console.log(t,"isLogin");let S=(0,h.Wx)({initialValues:{userName:"",password:""},validationSchema:A,onSubmit:async(e,r)=>{var s,a,o,n,c;let u={[k?"phone":"email"]:null==e?void 0:e.userName,password:e.password};if(i(!0),t)try{let e=await m(u);console.log(e,"response========"),(null==e?void 0:e.success)?(localStorage.setItem("token",null==e||null==(s=e.data)?void 0:s.token),C((0,j.iD)({user:null==e||null==(a=e.data)?void 0:a.user,token:null==e||null==(o=e.data)?void 0:o.token})),p.Ay.success(null==e?void 0:e.message),r.resetForm(),window.location.reload(),l()):p.Ay.error(null==e?void 0:e.message)}catch(e){e instanceof Error?p.Ay.error(e.message):p.Ay.error("Something went wrong")}finally{i(!1)}else try{let e=await d(u);console.log(e,"response"),(null==e?void 0:e.success)?(p.Ay.success(null==e?void 0:e.message),r.resetForm(),l()):p.Ay.error((null==e||null==(c=e.errors)||null==(n=c[0])?void 0:n.message)||(null==e?void 0:e.message))}catch(e){console.log(e,"error==="),e instanceof Error?p.Ay.error(e.message):p.Ay.error("Something went wrong")}finally{i(!1)}}});return(0,o.useEffect)(()=>{var e;"string"==typeof(e=S.values.userName)&&(e=e.trim(),/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e))?N(!1):N(!0)},[S.values.userName]),(0,s.jsx)(a,{isOpen:r,onClose:l,children:(0,s.jsxs)("div",{className:" flex flex-col pb-5 gap-6",children:[(0,s.jsx)("div",{className:"mx-auto bg-white dark:bg-black/50  shadow-md rounded-2xl p-3 w-14 h-14 flex items-center justify-center",children:(0,s.jsx)(x.QeK,{className:"text-black dark:text-white",size:28})}),(0,s.jsxs)("div",{className:"flex flex-col gap-4",children:[(0,s.jsxs)("h1",{className:"text-center text-2xl  font-semibold text-gray-900 dark:text-white",children:["Sign ",t?"in":"up"," with email or Phone"]}),(0,s.jsx)("p",{className:"text-center mx-auto  text-gray-500 dark:text-gray-300 w-2/3 text-sm -mt-3",children:"Make a new doc to bring your words, data, and teams together."})]}),(0,s.jsxs)("form",{onSubmit:S.handleSubmit,className:"flex flex-col gap-5",children:[(0,s.jsxs)("div",{children:[" ",(0,s.jsx)(n,{placeholder:"Email Or Phone",name:"userName",value:S.values.userName,onChange:S.handleChange,onBlur:S.handleBlur,error:S.touched.userName?S.errors.userName:"",startIcon:(0,s.jsx)(w.mm2,{className:"text-gray-400 ",size:22})})]}),(0,s.jsx)("div",{children:(0,s.jsx)(n,{type:u?"text":"password",placeholder:"Password",name:"password",value:S.values.password,onChange:S.handleChange,onBlur:S.handleBlur,error:S.touched.password?S.errors.password:"",startIcon:(0,s.jsx)(v.k$A,{className:"text-gray-400",size:22}),endIcon:u?(0,s.jsx)(y.$_Y,{size:22,className:"text-gray-600 dark:text-gray-400 cursor-pointer",onClick:()=>g(!1)}):(0,s.jsx)(y.QJN,{size:22,className:"text-gray-600 dark:text-gray-400 cursor-pointer",onClick:()=>g(!0)})})}),t&&(0,s.jsx)("div",{className:"text-end text-sm text-gray-600 cursor-pointer hover:underline",children:"Forgot password?"}),(0,s.jsxs)("button",{type:"submit",className:"w-full py-3 flex items-center justify-center  rounded-xl  text-lg  font-semibold  text-white hover:cursor-pointer shadow-lg bg-gradient-to-r from-sky-500 to-blue-500 hover:from-sky-600 hover:to-blue-600 transition-all duration-300   ",children:[c?(0,s.jsx)(f.A,{size:28,className:"!text-white"}):"Sign".concat(t?"In":"Up")," "]})]})]})})}var C=t(4604),S=t(4219);function q(e){let{isOpen:r=!1,isLogin:t=!1,handleClose:l}=e,[n,c]=(0,o.useState)(!1),i=(0,b.wA)(),u=async e=>{try{let a=await g({idToken:e});if(console.log(a,"response"),null==a?void 0:a.success){var r,t,s;localStorage.setItem("token",null==a||null==(r=a.data)?void 0:r.token),i((0,j.iD)({user:null==a||null==(t=a.data)?void 0:t.user,token:null==a||null==(s=a.data)?void 0:s.token})),p.Ay.success(null==a?void 0:a.message),l()}else p.Ay.error((null==a?void 0:a.message)||"Something went wrong?")}catch(e){console.log(e,"Error"),e instanceof Error?p.Ay.error(e.message):p.Ay.error("Something went wrong")}};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(a,{isOpen:r,onClose:l,children:[(0,s.jsx)("h2",{className:"text-xl  text-black dark:text-white font-bold mb-4",children:t?" Login your account":" Create your account"}),(0,s.jsx)(C.G_,{clientId:"835988035930-ek3b297j0o340983l5scbigm3mcmh9of.apps.googleusercontent.com",children:(0,s.jsx)("div",{className:"w-full flex justify-center mt-10",children:(0,s.jsx)("div",{className:"w-full max-w-md",children:(0,s.jsx)(C.j,{onSuccess:async e=>{let r=e.credential||"";console.log("User Info:",(0,S.s)(r)),await u(r)},onError:()=>p.Ay.error("Login Failed"),width:"100%",theme:"filled_blue",shape:"square",size:"large",containerProps:{style:{width:"100%",borderRadius:"0px",overflow:"hidden"}}})})})}),(0,s.jsxs)("div",{className:"bg-black dark:bg-gray-50 dark:text-black hover:text-gray-800 hover:dark:bg-white hover:bg-black/85 w-full p-3 text-center text-white rounded-lg mt-3 mb-3 cursor-pointer",children:[(0,s.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",className:"bi bi-apple w-5 h-5 inline-block mr-4",viewBox:"0 0 16 16",children:[(0,s.jsx)("path",{d:"M11.182.008C11.148-.03 9.923.023 8.857 1.18c-1.066 1.156-.902 2.482-.878 2.516s1.52.087 2.475-1.258.762-2.391.728-2.43m3.314 11.733c-.048-.096-2.325-1.234-2.113-3.422s1.675-2.789 1.698-2.854-.597-.79-1.254-1.157a3.7 3.7 0 0 0-1.563-.434c-.108-.003-.483-.095-1.254.116-.508.139-1.653.589-1.968.607-.316.018-1.256-.522-2.267-.665-.647-.125-1.333.131-1.824.328-.49.196-1.422.754-2.074 2.237-.652 1.482-.311 3.83-.067 4.56s.625 1.924 1.273 2.796c.576.984 1.34 1.667 1.659 1.899s1.219.386 1.843.067c.502-.308 1.408-.485 1.766-.472.357.013 1.061.154 1.782.539.571.197 1.111.115 1.652-.105.541-.221 1.324-1.059 2.238-2.758q.52-1.185.473-1.282"}),(0,s.jsx)("path",{d:"M11.182.008C11.148-.03 9.923.023 8.857 1.18c-1.066 1.156-.902 2.482-.878 2.516s1.52.087 2.475-1.258.762-2.391.728-2.43m3.314 11.733c-.048-.096-2.325-1.234-2.113-3.422s1.675-2.789 1.698-2.854-.597-.79-1.254-1.157a3.7 3.7 0 0 0-1.563-.434c-.108-.003-.483-.095-1.254.116-.508.139-1.653.589-1.968.607-.316.018-1.256-.522-2.267-.665-.647-.125-1.333.131-1.824.328-.49.196-1.422.754-2.074 2.237-.652 1.482-.311 3.83-.067 4.56s.625 1.924 1.273 2.796c.576.984 1.34 1.667 1.659 1.899s1.219.386 1.843.067c.502-.308 1.408-.485 1.766-.472.357.013 1.061.154 1.782.539.571.197 1.111.115 1.652-.105.541-.221 1.324-1.059 2.238-2.758q.52-1.185.473-1.282"})]}),"Continue with Apple"]}),(0,s.jsxs)("div",{onClick:()=>{l(),c(!0)},className:"border border-gray-600/15 hover:bg-gray-200 hover:dark:bg-transparent w-full p-3 text-center text-gray-800 dark:text-gray-200 dark:border-gray-300 rounded-lg mb-3 cursor-pointer",children:[(0,s.jsx)("span",{className:"w-5 h-5 fill-current mr-4 inline-block",children:"@"}),"Continue with Email"]})]}),(0,s.jsx)(N,{isLogin:t,handleClose:()=>{c(!1)},isOpen:n})]})}},7855:(e,r,t)=>{t.d(r,{B_:()=>l,xR:()=>n,zr:()=>c});var s=t(6363),a=t(30),o=t(6417);let l=async()=>{try{let e=await a.A.get(o.y.commonCategoryAll);return null==e?void 0:e.data}catch(e){return{success:!1,message:(0,s.u1)(e)}}},n=async(e,r)=>{try{let t=await a.A.get("".concat(o.y.commonQuestionFindById,"/").concat(e).concat(r?"?userId=".concat(r):""));return null==t?void 0:t.data}catch(e){return{success:!1,message:(0,s.u1)(e)}}},c=async(e,r)=>{try{let t=await a.A.get("".concat(o.y.questionDetails,"/").concat(e).concat(r?"?userId=".concat(r):""));return null==t?void 0:t.data}catch(e){return{success:!1,message:(0,s.u1)(e)}}}}}]);