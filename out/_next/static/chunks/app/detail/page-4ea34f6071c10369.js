(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[786],{818:(e,s,r)=>{Promise.resolve().then(r.bind(r,1871))},1871:(e,s,r)=>{"use strict";r.r(s),r.d(s,{default:()=>O});var a=r(5155),t=r(2115),l=r(5239),d=r(7855),i=r(63),n=r(7909),o=r(5379),c=r(6363);let x=(0,n.default)(()=>Promise.all([r.e(776),r.e(539)]).then(r.bind(r,5539)),{loadableGenerated:{webpack:()=>[null]},ssr:!1}),m=e=>{let{data:s=[]}=e,{theme:r}=(0,o.D)(),t=(0,c.vz)(s);return console.log(t,"series"),(0,a.jsx)("div",{className:"w-full -mx-4 sm:mx-0",children:(0,a.jsx)(x,{type:"area",height:230,width:800,series:t,options:{chart:{type:"area",stacked:!0,toolbar:{show:!1},zoom:{enabled:!1}},colors:["#008FFB","#00E396"],dataLabels:{enabled:!1},stroke:{curve:"smooth",width:2},fill:{type:"gradient",gradient:{shadeIntensity:1,opacityFrom:.5,opacityTo:.8,stops:[0,90,100]}},legend:{position:"top",horizontalAlign:"left",floating:!0,offsetY:-10,offsetX:0,labels:{colors:"dark"===r?"#fff":"#000"}},xaxis:{type:"datetime",labels:{style:{colors:"#6b7280"},datetimeFormatter:{year:"yyyy",month:"MMM 'yy",day:"dd MMM"}},tickPlacement:"on",axisBorder:{show:!1},axisTicks:{show:!1}},yaxis:{min:0,max:1,labels:{style:{colors:"#6b7280"},formatter:e=>e.toFixed(2)},title:{text:void 0}},grid:{borderColor:"#7A85F5",strokeDashArray:4,padding:{top:0,right:0,bottom:0,left:10}},tooltip:{x:{format:"dd MMM yyyy HH:mm"},y:{formatter:e=>"".concat(e.toFixed(3))}}}})})},u=(0,r(9829).io)("http://192.168.29.218:3000",{transports:["websocket"],autoConnect:!1});var b=r(8853),g=r(7365),h=r(1213);let p=()=>(0,a.jsx)("div",{className:"dark:bg-[#0f172a] bg-white min-h-screen pt-24 lg:pt-36",children:(0,a.jsxs)("div",{className:"max-w-[1268px] mx-auto px-4",children:[(0,a.jsxs)("div",{className:"flex gap-4 mb-6 animate-pulse",children:[(0,a.jsx)("div",{className:"w-20 h-20 bg-gray-200 dark:bg-gray-700 rounded-lg"}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("div",{className:"h-6 w-3/4 bg-gray-200 dark:bg-gray-700 rounded mb-2"}),(0,a.jsx)("div",{className:"h-4 w-1/4 bg-gray-200 dark:bg-gray-700 rounded mb-2"}),(0,a.jsx)("div",{className:"flex gap-3",children:[1,2,3,4].map(e=>(0,a.jsx)("div",{className:"h-4 w-20 bg-gray-200 dark:bg-gray-700 rounded"},e))})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,a.jsxs)("div",{className:"md:col-span-2 animate-pulse",children:[(0,a.jsx)("div",{className:"h-64 bg-gray-200 dark:bg-gray-800 rounded-lg mb-6"}),(0,a.jsxs)("div",{className:"flex justify-between mb-2",children:[(0,a.jsx)("div",{className:"h-4 w-32 bg-gray-200 dark:bg-gray-700 rounded"}),(0,a.jsx)("div",{className:"h-4 w-20 bg-gray-200 dark:bg-gray-700 rounded"}),(0,a.jsx)("div",{className:"h-4 w-20 bg-gray-200 dark:bg-gray-700 rounded"}),(0,a.jsx)("div",{className:"h-4 w-20 bg-gray-200 dark:bg-gray-700 rounded"})]}),[1,2,3,4].map(e=>(0,a.jsxs)("div",{className:"flex items-center justify-between border border-gray-200 dark:border-[#334661] rounded-lg p-3 mb-2",children:[(0,a.jsx)("div",{className:"h-4 w-40 bg-gray-200 dark:bg-gray-700 rounded"}),(0,a.jsx)("div",{className:"h-4 w-16 bg-gray-200 dark:bg-gray-700 rounded"}),(0,a.jsx)("div",{className:"h-4 w-16 bg-gray-200 dark:bg-gray-700 rounded"}),(0,a.jsx)("div",{className:"h-4 w-20 bg-gray-200 dark:bg-gray-700 rounded"}),(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsx)("div",{className:"h-7 w-14 bg-gray-200 dark:bg-gray-700 rounded"}),(0,a.jsx)("div",{className:"h-7 w-14 bg-gray-200 dark:bg-gray-700 rounded"})]})]},e))]}),(0,a.jsxs)("div",{className:"border border-gray-200 dark:border-gray-700 rounded-lg p-4 animate-pulse",children:[(0,a.jsxs)("div",{className:"flex justify-between mb-3",children:[(0,a.jsx)("div",{className:"h-4 w-24 bg-gray-200 dark:bg-gray-700 rounded"}),(0,a.jsx)("div",{className:"h-4 w-16 bg-gray-200 dark:bg-gray-700 rounded"})]}),(0,a.jsx)("div",{className:"h-5 w-32 bg-green-200/50 dark:bg-green-800/40 rounded mb-2"}),[1,2,3].map(e=>(0,a.jsxs)("div",{className:"flex justify-between px-3 py-1 mb-1 bg-gray-100 dark:bg-gray-800 rounded",children:[(0,a.jsx)("div",{className:"h-4 w-16 bg-gray-300 dark:bg-gray-700 rounded"}),(0,a.jsx)("div",{className:"h-4 w-16 bg-gray-300 dark:bg-gray-700 rounded"})]},e)),(0,a.jsx)("div",{className:"h-5 w-32 bg-red-200/50 dark:bg-red-800/40 rounded mt-4 mb-2"}),[1,2,3].map(e=>(0,a.jsxs)("div",{className:"flex justify-between px-3 py-1 mb-1 bg-gray-100 dark:bg-gray-800 rounded",children:[(0,a.jsx)("div",{className:"h-4 w-16 bg-gray-300 dark:bg-gray-700 rounded"})," ",(0,a.jsx)("div",{className:"h-4 w-16 bg-gray-300 dark:bg-gray-700 rounded"})]},e))]})]}),(0,a.jsxs)("div",{className:"w-full rounded-2xl mt-6 border border-white/10 p-5 animate-pulse",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,a.jsx)("div",{className:"h-4 w-40 rounded bg-white/10"}),(0,a.jsx)("div",{className:"h-3 w-20 rounded bg-white/5"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-4 px-3 py-2 gap-2",children:[(0,a.jsx)("div",{className:"h-3 w-10 bg-white/5 rounded"}),(0,a.jsx)("div",{className:"h-3 w-16 bg-white/5 rounded"}),(0,a.jsx)("div",{className:"h-3 w-12 bg-white/5 rounded ml-auto"}),(0,a.jsx)("div",{className:"h-3 w-10 bg-white/5 rounded ml-auto"})]}),(0,a.jsx)("div",{className:"space-y-2 mt-2",children:[1,2,3].map((e,s)=>(0,a.jsxs)("div",{className:"grid grid-cols-4 items-center px-3 py-3 rounded-xl   border border-white/5 bg-white/5",children:[(0,a.jsx)("div",{className:"flex items-center gap-2",children:(0,a.jsx)("div",{className:"h-7 w-7 rounded-full bg-white/10"})}),(0,a.jsx)("div",{className:"h-4 w-24 rounded bg-white/10"}),(0,a.jsx)("div",{className:"h-4 w-20 rounded bg-white/10 ml-auto"}),(0,a.jsx)("div",{className:"h-4 w-12 rounded bg-white/10 ml-auto"})]},s))}),(0,a.jsx)("div",{className:"mt-4 flex justify-center",children:(0,a.jsx)("div",{className:"h-3 w-40 bg-white/5 rounded"})})]})]})});var v=r(7689);function y(e){let{data:s}=e;return(0,a.jsxs)("div",{className:"w-full  rounded-2xl border dark:border-[#c3a66e]/50 border-gray-300 p-5 ",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,a.jsx)("h2",{className:"text-sm font-semibold tracking-wide text-gray-700 dark:text-[#c3a66e]",children:"\uD83C\uDFC6 Market Leaderboard"}),(0,a.jsx)("span",{className:"text-xs text-slate-400",children:"Live Ranking"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-4 text-xs dark:text-[#c3a66e] text-gray-700 px-3 py-2",children:[(0,a.jsx)("span",{children:"Rank"}),(0,a.jsx)("span",{children:"User"}),(0,a.jsx)("span",{className:"text-right",children:"Profit"}),(0,a.jsx)("span",{className:"text-right",children:"ROI"})]}),(0,a.jsx)("div",{className:"space-y-2",children:s.map((e,s)=>(0,a.jsxs)("div",{className:"grid grid-cols-4 items-center px-3 py-3 rounded-xl\n              border dark:border-[#c3a66e]/40 border-gray-300\n              ".concat(1===e.rank?"":"bg-white/5 hover:bg-white/10","\n              transition"),children:[(0,a.jsx)("div",{className:"flex items-center gap-2",children:(0,a.jsx)("span",{className:"flex h-7 w-7 items-center justify-center rounded-full text-xs font-bold\n                  ".concat(1===e.rank?"bg-amber-400 text-black":"bg-slate-700 text-white"),children:e.rank})}),(0,a.jsx)("div",{className:"text-sm text-gray-600 dark:text-[#c3a66e] font-medium truncate",children:e.username}),(0,a.jsxs)("div",{className:"text-right text-sm font-semibold text-emerald-400",children:["₹",e.profit.toFixed(2)]}),(0,a.jsxs)("div",{className:"text-right text-xs font-semibold text-sky-400",children:[e.roi.toFixed(2),"%"]})]},s))}),(0,a.jsx)("div",{className:"mt-4 text-center text-[11px] text-[#c3a66e]/80",children:"Rankings based on profit & ROI"})]})}function N(e){let{data:s,cancelOrders:r}=e;return(0,a.jsxs)("div",{className:"w-full rounded-2xl border border-white/10 bg-[#0b1220]/80 p-5",children:[(0,a.jsx)("div",{className:"mb-4 flex items-center justify-between",children:(0,a.jsx)("h2",{className:"text-sm font-semibold tracking-wide text-white",children:"Open Orders"})}),(0,a.jsxs)("div",{className:"grid grid-cols-5 px-3 py-2 text-[11px] uppercase tracking-wide text-slate-200 border-b border-white/10",children:[(0,a.jsx)("span",{children:"Shares"}),(0,a.jsx)("span",{children:"Price"}),(0,a.jsx)("span",{children:"Type"}),(0,a.jsx)("span",{className:"text-right",children:"Status"}),(0,a.jsx)("span",{className:"text-right",children:"Action"})]}),(0,a.jsx)("div",{className:"mt-2 space-y-1",children:s.map((e,s)=>{let t=1===e.rank,l=(null==e?void 0:e.side)==="BUY";return(0,a.jsxs)("div",{className:"grid grid-cols-5 items-center rounded-xl px-3 py-3\n                border border-white/5\n                ".concat(t?"bg-gradient-to-r from-amber-500/15 to-transparent shadow-[0_0_30px_rgba(245,158,11,0.2)]":"bg-white/[0.03] hover:bg-white/[0.06]","\n                transition-all duration-200"),children:[(0,a.jsx)("div",{className:"text-sm font-medium text-white",children:Number((null==e?void 0:e.shares)||0).toFixed(2)}),(0,a.jsxs)("div",{className:"text-sm text-slate-200",children:["₹"," ",Number(l?null==e?void 0:e.maxCost:(null==e?void 0:e.minProceeds)||0).toFixed(2)]}),(0,a.jsx)("div",{className:"text-xs font-semibold w-fit px-2 py-1 rounded-md\n                  ".concat(l?"bg-emerald-500/15 text-emerald-400":"bg-rose-500/15 text-rose-400"),children:(null==e?void 0:e.side)||"--"}),(0,a.jsx)("div",{className:"text-right",children:(0,a.jsx)("span",{className:"text-xs font-medium px-2 py-1 rounded-md bg-blue-500/15 text-blue-400",children:"Open"})}),(0,a.jsx)("div",{className:"flx flex-row items-end justify-end",children:(0,a.jsx)("button",{onClick:()=>r(null==e?void 0:e.id),className:" float-end text-sm font-semibold py-1 cursor-pointer px-2 rounded bg-red-400 text-white w-fit",children:"Cancel"})})]},s)})})]})}var j=r(5265),f=r(2021),w=r(9496),k=r(3868),S=r(6370),A=r(236),F=r(8638),P=r(7830);let C=e=>{let{isDelete:s=!1,open:r,onClose:l,onConfirm:d,heading:i="Delete",desc:n="Are you sure you want to delete"}=e;return(0,t.useEffect)(()=>{let e=e=>{"Escape"===e.key&&l(),"Enter"===e.key&&r&&d()};return window.addEventListener("keydown",e),()=>window.removeEventListener("keydown",e)},[r,l,d]),(0,a.jsxs)(j.A,{open:r,onClose:l,maxWidth:"sm",fullWidth:!0,PaperProps:{className:"rounded-xl shadow-2xl dark:bg-gray-800 dark:text-gray-100"},children:[(0,a.jsxs)(f.A,{className:"flex items-center space-x-2 pb-2",children:[(0,a.jsx)(P.LiN,{className:"w-7 h-7 text-red-500"}),(0,a.jsx)("span",{className:"text-xl font-semibold",children:i})]}),(0,a.jsx)(w.A,{dividers:!0,className:"py-4",children:(0,a.jsxs)(k.A,{variant:"body1",className:"!text-gray-950 dark:text-gray-300",children:[n," ?"]})}),(0,a.jsxs)(S.A,{className:"px-6 py-4 space-x-3",children:[(0,a.jsx)(A.A,{onClick:l,variant:"outlined",className:"normal-case font-medium text-gray-700 hover:bg-gray-100 dark:text-gray-300 dark:hover:bg-gray-700",children:"Cancel"}),(0,a.jsx)(A.A,{onClick:d,variant:"contained",startIcon:!s&&(0,a.jsx)(P.b6i,{className:"w-5 h-5"}),className:"bg-red-600 hover:bg-red-700 normal-case font-medium text-white",disabled:s,children:s?(0,a.jsx)(F.A,{className:"!text-white",size:22}):"Delete"})]})]})};var I=r(4517);let M=()=>{var e,s,r,n,o,x,j,f,w,k,S,A,F;let[P,M]=(0,t.useState)({buys:[],sells:[]}),[O,E]=(0,t.useState)(!1),[D,z]=(0,t.useState)(null),[L,_]=(0,t.useState)([]),[R,B]=(0,t.useState)({series:[]}),U=(0,i.useSearchParams)().get("id"),[T,Y]=(0,t.useState)(!1),[$,q]=(0,t.useState)(),[V,W]=(0,t.useState)(null),H=(0,h.d4)(e=>null==e?void 0:e.user),G=localStorage.getItem("token"),X=(0,t.useRef)(new Set),J=(0,t.useRef)(new Set),[K,Q]=(0,t.useState)(!1),[Z,ee]=(0,t.useState)(null),[es,er]=(0,t.useState)([]),[ea,et]=(0,t.useState)(!1),[el,ed]=(0,t.useState)(null),[ei,en]=(0,t.useState)(!1),eo=(0,t.useCallback)(async()=>{E(!0);try{var e,s,r,a,t;let[l]=await Promise.all([(0,d.zr)(U,null==H||null==(e=H.user)?void 0:e.id),(0,c.cb)(2e3)]);(null==l?void 0:l.success)?(M({buys:null!=(a=null==(s=l.data.orderFlow)?void 0:s.buys)?a:[],sells:null!=(t=null==(r=l.data.orderFlow)?void 0:r.sells)?t:[]}),z(l.data)):(M({buys:[],sells:[]}),z(null))}finally{E(!1)}},[U,null==H||null==(e=H.user)?void 0:e.id]),ec=(0,t.useCallback)(async()=>{let e=await (0,g.DR)(U);(null==e?void 0:e.success)?B(e.data):B({series:[]})},[U]);(0,t.useEffect)(()=>{eo(),ec()},[eo,ec,U]),(0,t.useEffect)(()=>(u.connected||u.connect(),console.log(u.connected,"socket.connected"),u.on("connect",()=>{var e,s;console.log("✅ Socket connected! ID:",u.id),u.emit("subscribe:market",U),(null==H||null==(e=H.user)?void 0:e.id)&&u.emit("subscribe:user",null==H||null==(s=H.user)?void 0:s.id)}),u.on("market:prices",e=>{console.log("MarketPrices received:",e),(null==e?void 0:e.questionId)&&Array.isArray(e.prices)&&z(s=>{if(!(null==s?void 0:s.options)||!Array.isArray(s.options))return s;let r=s.options.map((s,r)=>{let a=e.prices[r];return{...s,price:"number"!=typeof a||isNaN(a)?s.price:a,winningProbability:"number"!=typeof a||isNaN(a)?s.winningProbability:a}});return{...s,options:r,lastOrderUpdatedAt:new Date(e.ts||Date.now()).toISOString()}})}),u.on("trade",e=>{if(J.current.has(e.orderId))return;J.current.add(e.orderId);let s={id:e.orderId,optionId:e.optionId,shares:e.filledShares.toFixed(16),saleAtPrice:(e.cash/e.filledShares).toFixed(16),createdAt:new Date(e.ts).toISOString()};J.current.has(e.orderId)||(J.current.add(e.orderId),M(r=>r?"BUY"===e.side?{buys:[s,...r.buys||[]],sells:r.sells||[]}:"SELL"===e.side?{buys:r.buys||[],sells:[s,...r.sells||[]]}:r:r))}),u.on("order:update",e=>{(null==e?void 0:e.questionId)&&(null==e?void 0:e.optionId)&&"number"==typeof(null==e?void 0:e.orderId)&&"number"==typeof(null==e?void 0:e.filled)&&(X.current.has(e.orderId)||(X.current.add(e.orderId),z(s=>{if(!s||!Array.isArray(s.options))return s;let r=s.options.map((s,r)=>{var a,t;let l=null==(a=e.prices)?void 0:a[r];if(s.id===e.optionId){let r=null!=(t=s.userPosition)?t:{shares:0,invested:0,pnl:0},a="BUY"===e.side?r.shares+e.filled:r.shares-e.filled;return{...s,price:"number"!=typeof l||Number.isNaN(l)?s.price:l,winningProbability:"number"!=typeof l||Number.isNaN(l)?s.winningProbability:l,userPosition:{shares:a,invested:r.invested,pnl:r.pnl}}}return{...s,price:"number"!=typeof l||Number.isNaN(l)?s.price:l,winningProbability:"number"!=typeof l||Number.isNaN(l)?s.winningProbability:l}});return{...s,options:r,lastOrderUpdatedAt:new Date().toISOString()}})))}),u.on("connect_error",e=>{console.error("Socket connection error:",e.message)}),u.on("disconnect",e=>{console.log("Socket disconnected:",e)}),()=>{console.log("subscribing from market:",U),u.offAny()}),[U,null==H||null==(s=H.user)?void 0:s.id]);let ex=localStorage.getItem("token"),em=(e,s,r)=>{if(!ex)return void Q(!0);ee(r),W(e),q(s),Y(!0)};console.log(typeof U,"slug");let eu=(0,t.useCallback)(async()=>{try{let e=await (0,g.yb)(U);(null==e?void 0:e.success)?_(e.data.leaderboard):_([])}catch(e){console.error(e),_([])}},[U]);(0,t.useEffect)(()=>{eu()},[eu]);let eb=(0,t.useCallback)(async()=>{try{let r=await (0,g.W1)(2,U);if(null==r?void 0:r.success){var e,s;er(null!=(s=null==(e=r.data)?void 0:e.orders)?s:[])}else er([])}catch(e){console.error(e),er([])}},[U]);(0,t.useEffect)(()=>{eb()},[eb]);let eg=(null==P||null==(r=P.sells)?void 0:r.map(e=>Number(null==e?void 0:e.saleAtPrice)||0))||[],eh=Math.min(...eg),ep=Math.max(...eg),ev=(null==P||null==(n=P.buys)?void 0:n.map(e=>Number(null==e?void 0:e.saleAtPrice)||0))||[],ey=Math.min(...ev),eN=Math.max(...ev),ej=Array.isArray(null==D?void 0:D.options)?D.options.map(e=>{var s;return Number(null!=(s=null==e?void 0:e.price)?s:0)}):[],ef=ej.length?Math.min(...ej):0,ew=ej.length?Math.max(...ej):1,ek=async()=>{if(el){en(!0);try{let e=await (0,g.N4)(el);(null==e?void 0:e.success)?(I.Ay.success(e.message),et(!1),ed(null),eb()):I.Ay.error(e.message)}catch(e){e instanceof Error?I.Ay.error(e.message):I.Ay.error("Something went wrong")}finally{en(!1)}}};return localStorage.setItem("isCategory","0"),(0,a.jsxs)(a.Fragment,{children:[O?(0,a.jsx)(p,{}):(0,a.jsx)("div",{className:"dark:bg-[#0f172a]",children:(0,a.jsxs)("div",{className:"max-w-[1268px] mx-auto px-4 mt-24 lg:mt-40 ",children:[(0,a.jsxs)("div",{className:"container mx-auto pb-6 ",children:[(0,a.jsxs)("div",{className:"md:flex lg:items-center mb-6",children:[(0,a.jsx)(l.default,{src:"/img/blockimg1.jpg",alt:"NYC Flag",width:80,height:80,className:"mr-4 rounded-lg"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-xl lg:text-2xl font-bold text-black dark:text-white",children:null==D||null==(o=D.question)?void 0:o.question}),(0,a.jsxs)("p",{className:"text-sm text-[#7F90A7] dark:text-gray-300",children:["$"," ",Number((null==D||null==(x=D.market)?void 0:x.totalMarketVolume)||0).toFixed(2)||0," ","Vol."]}),(0,a.jsx)("div",{className:"lg:flex space-x-4 mt-1 text-sm",children:null==D||null==(j=D.options)?void 0:j.map((e,s)=>(0,a.jsxs)("div",{className:" text-wrap items-center",children:[(0,a.jsx)("span",{className:"rounded-full ".concat(0===s?"bg-red-700 ":1===s?"bg-blue-500 ":2===s?"bg-green-500 ":3===s?"bg-purple-600 ":4===s?"bg-yellow-700 ":"bg-pink-500"," inline-block mr-2"),style:{width:"10px",height:"10px"}}),(0,a.jsxs)("span",{className:"text-[#7F90A7] font-semibold dark:text-gray-300",children:[(null==e?void 0:e.name)||"--",", ",((null==e?void 0:e.price)*100).toFixed(1)," ","%"]})]},s))})]})]}),(0,a.jsxs)("div",{className:"grid  grid-cols-1 md:grid-cols-3 gap-6",children:[(0,a.jsxs)("div",{className:"md:col-span-2 space-y-6",children:[Number(null==R||null==(f=R.series)?void 0:f.length)>0?(0,a.jsx)("div",{className:"h-64 mb-6 flex",children:(0,a.jsx)("span",{className:"text-gray-500",children:(0,a.jsx)(m,{data:null==R?void 0:R.series})})}):(0,a.jsx)("div",{className:"bg-cyan-100/80 rounded-lg h-64 mb-6 flex items-center justify-center",children:(0,a.jsx)("span",{className:"text-gray-500",children:"[Chart Placeholder]"})}),Number(null==D||null==(w=D.options)?void 0:w.length)>0&&(0,a.jsxs)("div",{className:"md:flex items-center justify-between text-center px-2 md:px-0 pt-3 md:py-0  font-bold dark:text-[#c3a66e] text-[#080b11] md:border-0 lg:bg-transparent",children:[(0,a.jsx)("div",{className:"w-64 text-start",children:"Options"}),G&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"!w-20",children:"Invested"}),(0,a.jsx)("div",{className:"!w-16",children:"PnL"}),(0,a.jsx)("div",{className:"!w-24",children:"Buy Shares"})," "]}),(0,a.jsx)("div",{className:"!w-40"})]}),(0,a.jsx)("div",{className:"flex flex-col gap-2",children:null==D||null==(k=D.options)?void 0:k.map((e,s)=>{var r,t,l,d,i,n,o;let c=Number((null==e||null==(r=e.userPosition)?void 0:r.pnl)||0),x=(e=>{let s=ej.length&&ew!==ef?(e-ef)/(ew-ef):.5;return s>.8?"border border-gray-200 ":s>.6?"bg-emerald-400/15":s>.4?"bg-sky-500/10":s>.2?"bg-slate-500/10":"bg-slate-700/10"})(Number(null==e?void 0:e.price));return(0,a.jsxs)("div",{className:"\n                            flex flex-col md:flex-row items-center justify-between\n                            px-3 py-3 rounded-xl\n                            border dark:border-[#c3a66e]/60\n                            border-gray-400\n                            backdrop-blur-md \n                            transition-all duration-300\n                            ".concat(x,"\n                          "),children:[(0,a.jsx)("div",{className:"".concat(G?"w-64":"w-full"," font-medium dark:text-white"),children:(null==e?void 0:e.name)||"--"}),G&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"w-20 text-sm text-slate-300 text-center",children:(null!=(n=null==(t=e.userPosition)?void 0:t.invested)?n:0)>0?Number(null==(l=e.userPosition)?void 0:l.invested).toFixed(1):"--"}),(0,a.jsx)("div",{className:"w-16 text-sm font-semibold text-center ".concat(c<0?"text-red-400":"text-emerald-400"),children:0!==c?"$".concat(c.toFixed(1)):"--"}),(0,a.jsx)("div",{className:"w-24 text-sm text-slate-300 text-center",children:(null!=(o=null==(d=e.userPosition)?void 0:d.shares)?o:0)>0?Number(null==(i=e.userPosition)?void 0:i.shares).toFixed(1):"--"})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2 mt-2 md:mt-0",children:[(0,a.jsxs)("div",{className:"text-xs text-slate-400 w-12 text-center",children:[(100*Number(null==e?void 0:e.price)).toFixed(1),"%"]}),(0,a.jsx)("button",{onClick:()=>em(e,"sell",s),className:"px-4 py-1.5 rounded-md text-xs font-semibold   bg-red-500/20 text-red-400 border border-red-500/30   hover:bg-red-500/30 transition",children:"Sell"}),(0,a.jsx)("button",{onClick:()=>em(e,"buy",s),className:"px-4 py-1.5 rounded-md text-xs font-semibold   bg-emerald-500/20 text-emerald-400 border border-emerald-500/30   hover:bg-emerald-500/30 transition",children:"Buy"})]})]},s)})})]}),(0,a.jsxs)("div",{className:"md:col-span-1 h-[440px] border border-gray-200 dark:border-gray-700 rounded-lg p-3 lg-p-6",children:[(0,a.jsxs)("div",{className:"flex justify-between pr-14 items-center ",children:[(0,a.jsx)("span",{className:"text-lg font-semibold text-gray-900 dark:text-gray-200",children:"Shares"}),(0,a.jsx)("span",{className:"text-sm text-gray-500 dark:text-gray-200",children:"Price"})]}),(0,a.jsxs)("div",{className:"dark:bg-[#151922]/50  bg-gray-100/50 mt-2 w-full rounded-md overflow-hidden border dark:border-[#1c1f26] border-[#d6d6d6]",children:[(0,a.jsx)("div",{className:"divide-y max-h-[160px] hideScrollbar overflow-y-auto dark:divide-[#1c1f26] divide-[#d6d6d6]",children:(null==P||null==(S=P.sells)?void 0:S.length)>0?P.sells.map(e=>{var s;let r=Number(null==e?void 0:e.saleAtPrice)||0;return(0,a.jsxs)("div",{className:"relative flex justify-between px-2 py-1 text-sm text-red-400 font-medium overflow-hidden",children:[(0,a.jsx)("div",{className:"absolute right-0 top-0 h-full bg-red-500 opacity-10 z-0 transition-all duration-300",style:{width:ep===eh?"45%":"".concat(Math.round(10+(r-eh)/(ep-eh)*70),"%")}}),(0,a.jsx)("span",{className:"z-10",children:(null==(s=Number(null==e?void 0:e.shares))?void 0:s.toFixed(2))||"0.00"}),(0,a.jsxs)("span",{className:"z-10",children:["$",r.toFixed(2)]})]},null==e?void 0:e.id)}):(0,a.jsx)("div",{className:"text-center py-6 text-gray-400 text-sm ",children:"No sell orders yet"})}),(0,a.jsxs)("div",{className:"text-center dark:text-white text-black font-bold py-2 text-base border-y dark:border-[#1c1f26] border-[#d6d6d6]",children:["$"," ",Number((null==D||null==(A=D.market)?void 0:A.totalMarketVolume)||0).toFixed(2)||0," ","Vol.",(0,a.jsx)("span",{className:"text-green-500 text-xs align-top",children:"▲"})]}),(0,a.jsx)("div",{className:"divide-y max-h-[160px] hideScrollbar overflow-y-auto dark:divide-[#2e3139] divide-[#d6d6d6]",children:(null==P||null==(F=P.buys)?void 0:F.length)>0?P.buys.map(e=>{var s;let r=Number(null==e?void 0:e.saleAtPrice)||0;return(0,a.jsxs)("div",{className:"relative flex justify-between px-2 py-1 text-sm text-green-400 font-medium",children:[(0,a.jsx)("div",{className:"absolute right-0 top-0 h-full bg-green-500 opacity-10 z-0 transition-all duration-300",style:{width:eN===ey?"45%":"".concat(Math.round(10+(r-ey)/(eN-ey)*70),"%")}}),(0,a.jsx)("span",{className:"z-10",children:(null==(s=Number(null==e?void 0:e.shares))?void 0:s.toFixed(2))||"0.00"}),(0,a.jsxs)("span",{className:"z-10",children:["$ ",r.toFixed(2)]})]},null==e?void 0:e.id)}):(0,a.jsx)("div",{className:"text-center py-6 text-gray-400 text-sm ",children:"No buy orders yet"})})]})]})]})]}),(0,a.jsxs)("div",{className:"flex flex-col gap-4",children:[(0,a.jsx)(y,{data:L}),(null==es?void 0:es.length)>0&&(0,a.jsx)(N,{data:es,cancelOrders:e=>{ed(e),et(!0)}})]})]})}),(0,a.jsx)(v.A,{isLogin:!0,isOpen:K,handleClose:()=>Q(!1)}),(0,a.jsx)(b.A,{rowDetailss:D,isOpen:T,onClose:()=>Y(!1),orderType:$,handleChangeOrderType:q,option:V,optionIndex:Z,fetchOrders:eb}),(0,a.jsx)(C,{open:ea,onClose:()=>{et(!1),ed(null)},onConfirm:ek,isDelete:ei})]})},O=()=>(0,a.jsx)(t.Suspense,{fallback:(0,a.jsx)("div",{children:"Loading Sale Page..."}),children:(0,a.jsx)(M,{})})}},e=>{e.O(0,[479,711,897,844,456,610,707,860,982,87,311,148,853,441,255,358],()=>e(e.s=818)),_N_E=e.O()}]);